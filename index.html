<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NM -Mu</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="./assets/css/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            clifford: '#da373d',
          }
        }
      }
    }
  </script>
</head>

<body>
  <header>
    <h1 class="text-3xl font-bold underline text-clifford">NM.</h1><p>Discover new music</p>
  </header>
  <div class="container">
    <div class="input-group">
      <div class="form-outline">
        <input type="search" id="searchBar" class="form-control" />
        <label class="form-label" for="form1"></label>
      </div>
      <button type="button" class="btn btn-primary" id="searchBtn">search
        <i class="fas fa-search"></i>
      </button>
    
      <div id="randomDiv">
        <button type="button" id="randomBtn">Random</button>
        <div class="spinner-border" role="status" id="spinner">
          <span class="sr-only">Loading...</span>
        </div>
      </div>

      <div id="skip">
        <button type="button" id="skipBtn">Next</button>
      </div>
    </div>

  </div class= "banner"><div>
    <img=>

    <menu> 
      <!-- search history pane on the left hand side. styling in div can be changed to layout configuration -->
      <div style="width: 400px; float:left; height:0px; background:gray; margin:0px">
        <h3>Search History</h3>
            <div class = searchHistory></div>
      </div>
    </menu>
    
    <section id="preview"></section>
  
    <main>
<!-- You Tube Video Player reference: https://developers.google.com/youtube/iframe_api_reference -->
  <div id="player"></div>
  <script>
  // API code for iframe - plays asynchronous
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // iframe / YouTube player after API downloads - videoID links to video - this needs to be changed to randomized
    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
      height: '390',
      width: '640',
      videoId: 'M7lc1UVf-VE',
      playerVars: {
        'playsinline': 1
      },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }
  //API calls function whe video is ready.
  function onPlayerReady(event) {
    event.target.playVideo();
  }
  // 5. The API calls this function when the player's state changes.
  //    The function indicates that when playing a video (state=1),
  //    the player should play for six seconds and then stop.
  // Can add seconds after setTimeout(stopVideo) ex. 6000 = 6 secs
    var done = false;
    function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING && !done) {
      setTimeout(stopVideo);
      done = true;
    }
  }
    function stopVideo() {
      player.stopVideo();
  }
  </script>  
  </div>
  <!-- link the JQuery library first -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="./assets/js/apiCall.js"></script>
  <script src="./assets/js/randomAPI.js"></script>
  <script src="./assets/js/searchAPI.js"></script>
  <script src="./assets/js/localStorage.js"></script>

</body>
</html>